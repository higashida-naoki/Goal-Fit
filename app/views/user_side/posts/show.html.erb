<div class="container">
  <h2>æŠ•ç¨¿è©³ç´°</h2>
  <div class="row">
    <div class="col-md-2">
      <tr>
        <td>
          <%= link_to user_path(@user) do %>
            <%= image_tag @post.user.get_profile_image, class: "rounded-circle mb-3 btn-profile-image", size:'100x100' %>
          <% end %>
        </td>
      </tr>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
      <tr>
        <td>æŠ•ç¨¿è€…ï¼š<%= @post.user.nickname %></td>
      </tr>
    </div>
  </div>
  <div class="row">
    <div class="col-md-2">
    <br>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <table class="table">

        <!-- æœé£Ÿ -->
        <tr>
          <th>æœé£Ÿ</th>
          <td><%= @post.breakfast %></td>
          <td><%= number_with_delimiter(@post.breakfast_calories) %> kcal</td>
          <td>
            <% if @post.breakfast_image.attached? %>
              <%= image_tag(@post.breakfast_image, size: "200x200") %>
              <% @post.breakfast_tags.each do |tag| %>
                <span class="tags"><%= tag.name %></span>
              <% end %>
            <% else %>
              No Image
            <% end %>
          </td>
        </tr>

        <!-- æ˜¼é£Ÿ -->
        <tr>
          <th>æ˜¼é£Ÿ</th>
          <td><%= @post.lunch %></td>
          <td><%= number_with_delimiter(@post.lunch_calories) %> kcal</td>
          <td>
            <% if @post.lunch_image.attached? %>
              <%= image_tag(@post.lunch_image, size: "200x200") %>
              <% @post.lunch_tags.each do |tag| %>
                <span class="tags"><%= tag.name %></span>
              <% end %>
            <% else %>
              No Image
            <% end %>
          </td>
        </tr>

        <!-- å¤•é£Ÿ -->
        <tr>
          <th>å¤•é£Ÿ</th>
          <td><%= @post.dinner %></td>
          <td><%= number_with_delimiter(@post.dinner_calories) %> kcal</td>
          <td>
            <% if @post.dinner_image.attached? %>
              <%= image_tag(@post.dinner_image, size: "200x200") %>
              <% @post.dinner_tags.each do |tag| %>
                <span class="tags"><%= tag.name %></span>
              <% end %>
            <% else %>
              No Image
            <% end %>
          </td>
        </tr>

        <!-- ãã®ä»–ã®æƒ…å ± -->
        <tr>
          <th>ç·æ‘‚å–ã‚«ãƒ­ãƒªãƒ¼</th>
          <td><%= number_with_delimiter(@post.total_calories_intake) %> kcal</td>
        </tr>
        <tr>
          <th>æ¶ˆè²»ã‚«ãƒ­ãƒªãƒ¼</th>
          <td><%= number_with_delimiter(@post.calories_consumed) %> kcal</td>
        </tr>
        <tr>
          <th>ã‚«ãƒ­ãƒªãƒ¼åæ”¯</th>
          <td><%= number_with_delimiter(@post.total_calories) %> kcal</td>
        </tr>
        <tr>
          <th>ä½“é‡</th>
          <td><%= @post.weight %> kg</td>
        </tr>
        <tr>
          <th>åŠªåŠ›ãƒã‚¤ãƒ³ãƒˆ</th>
          <td><%= @post.effort_point %></td>
        </tr>
        <tr>
          <th>é€²æ—åº¦</th>
          <td><%= @post.index_progress %> %</td>
        </tr>
        <tr id=<%= "favorite-" + @post.id.to_s %> >
          <th>ã„ã„ã­æ•°</th>
          <td><%= render "user_side/favorites/btn", post: @post, remote: true %></td>
        </tr>
        <tr>
          <th>ã‚³ãƒ¡ãƒ³ãƒˆæ•°</th>
          <td>ğŸ’¬ <%= @post.post_comments.count %></td>
        </tr>
        <tr>
          <% if @post.user == current_user %>
            <td><%= link_to 'ç·¨é›†ã™ã‚‹', edit_post_path(@post), class: "btn btn-sm btn-success edit_post_#{@post.id}" %> <%= link_to 'å‰Šé™¤ã™ã‚‹', @post, method: :delete, data: { confirm: 'æœ¬å½“ã«æ¶ˆã—ã¾ã™ã‹ï¼Ÿ' }, class: "btn btn-sm btn-danger destroy_post_#{@post.id}" %></td>
          <% end %>
        </tr>
      </div>
    </div>
  </table>
  <h2>ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§</h2>
  <%= render "user_side/post_comments/index", post: @post %>
  <%= render "user_side/post_comments/form", post: @post, post_comment: @post_comment %>
</div>

<style>
.tags {
  background-color: #337ab7;
  font-weight: 500;
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
</style>

